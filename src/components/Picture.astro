<main class="grid min-h-full w-full place-content-center py-11">
	<div
		x-data="imageSlider"
		class="relative mx-auto max-w-2xl overflow-hidden rounded-md p-2 sm:p-4"
	>
		<div
			class="absolute right-5 top-5 z-10 rounded-full bg-gray-600 px-2 text-center text-sm text-white"
		>
			<span x-text="currentIndex"></span>/<span x-text="images.length"></span>
		</div>

		<button
			@click="previous()"
			class="absolute left-5 top-1/2 z-10 flex h-11 w-11 -translate-y-1/2 items-center justify-center rounded-full bg-gray-100 shadow-md"
		>
			<i class="fas fa-chevron-left text-2xl font-bold text-gray-500"></i>
		</button>

		<button
			@click="forward()"
			class="absolute right-5 top-1/2 z-10 flex h-11 w-11 -translate-y-1/2 items-center justify-center rounded-full bg-gray-100 shadow-md"
		>
			<i class="fas fa-chevron-right text-2xl font-bold text-gray-500"></i>
		</button>

		<div class="relative h-80" style="width: 30rem">
			<template x-for="(image, index) in images">
				<div
					x-show="currentIndex == index + 1"
					x-transition:enter="transition transform duration-300"
					x-transition:enter-start="opacity-0"
					x-transition:enter-end="opacity-100"
					x-transition:leave="transition transform duration-300"
					x-transition:leave-start="opacity-100"
					x-transition:leave-end="opacity-0"
					class="absolute top-0"
				>
					<img :src="image" alt="image" class="rounded-sm" />
				</div>
			</template>
		</div>
	</div>
</main>

<!-- component -->
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<link
	rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
/>

<script type="">
	document.addEventListener('alpine:init', () => {
		Alpine.data('imageSlider', () => ({
			currentIndex: 1,
			images: [
				'https://i.postimg.cc/7b8kjsj8/IMG-20231018-WA0008.jpg',
				'https://i.postimg.cc/1RgNh8bJ/IMG-20231112-WA0018.jpg',
				'https://i.postimg.cc/L8VJBLZ6/IMG-20240225-WA0001.jpg',
				'https://i.postimg.cc/sftGVVry/IMG-20240316-WA0510.jpg',
				'https://i.postimg.cc/5NLYyZ4z/IMG-20240329-WA0031.jpg',
				'https://i.postimg.cc/rpnz7TJB/IMG-20240329-WA0041.jpg',
				'https://i.postimg.cc/ZnrbYz8K/STC03643.jpg',
				'https://i.postimg.cc/tRPCNWKQ/STC03866.jpg',
				'https://i.postimg.cc/pXttdGv3/IMG-20240427-WA0017-EDIT.jpg'
			],
			previous() {
				if (this.currentIndex > 1) {
					this.currentIndex = this.currentIndex - 1;
				}
			},
			forward() {
				if (this.currentIndex < this.images.length) {
					this.currentIndex = this.currentIndex + 1;
				}
			}
		}));
	});
</script>
